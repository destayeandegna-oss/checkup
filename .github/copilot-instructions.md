## Repository overview

This workspace contains a small set of web demos and a Create React App project in `registration-form/`.

- `registration-form/` — a Create React App (CRA) application. Key files:
  - `package.json` — standard CRA scripts: `npm start`, `npm run build`, `npm test`.
  - `public/index.html` and `index.html` (there is a standalone HTML demo at the repo root of that subfolder) — lightweight static demo that uses the `window.Poe` client to interact with AI backends.
  - `src/` — React entry (`src/index.js`) and `src/App.js` which renders a `RegistrationForm`-style component (the simple form implementation is nearby in `htmlform/app.js` in this workspace).

There are also static build artifacts under `registration-form/build/` generated by CRA.

## Goals for an AI coding agent

When editing this repo prefer small, focused changes that keep the CRA app runnable with the standard scripts. Provide explicit, concrete edits and examples:

- If you add or modify components, update `src/index.js` and `src/App.js` to keep the default root render intact.
- For UI examples reference `registration-form/index.html` which shows how the client uses `window.Poe.sendUserMessage(...)` and `window.Poe.registerHandler(...)` patterns.

## Useful commands (from `registration-form/package.json`)

- Start dev server (CRA):

  npm start

- Build production bundle (outputs to `registration-form/build/`):

  npm run build

- Run tests (CRA):

  npm test

When suggesting terminal commands in this repo, assume the user runs them from `registration-form/` unless you explicitly state otherwise.

## Project-specific patterns and things to watch for

- Two parallel demo styles exist in this workspace:
  1. A CRA React app under `registration-form/src/` (React 19, `react-scripts` 5). Typical developer flow: edit `src/*`, run `npm start` in `registration-form/`.
  2. A plain static HTML demo at `registration-form/index.html` (single-file demo). It references Tailwind CDN, marked.js and uses a global `window.Poe` client. Do not assume server-side code; the demo runs purely in the browser.

- The `index.html` uses these caller patterns repeatedly — these are safe to copy when adding new demo cards or handlers:

  - Register a streaming handler:

    window.Poe.registerHandler("text-handler", (result) => { /* read result.responses[...] */ });

  - Send a user message to a specific bot(s):

    await window.Poe.sendUserMessage(`@Claude-Sonnet-4.5 ${input}`, { handler: "text-handler", stream: true, openChat: false });

  - Inspect responses via result.responses[*].status, .statusText, .content, and .attachments (for images/audio).

- Validation and UX: the plain HTML demo contains simple client-side validation and custom modal alert code (see `showCustomAlert`). Reuse this for consistent UX in other demos.

## Examples to copy/adapt

- To add a new demo card (follow the pattern in `index.html`):
  - Add a textarea with an id like `myInput`, a button that calls `generateX()`, and an output container with id `myOutput`.
  - Add a `window.Poe.registerHandler("my-handler", handlerFn)` at top-level.
  - Implement `generateX` to call `window.Poe.sendUserMessage(...)` using the same options and handle streaming vs non-streaming consistent with the other cards.

- To add a React component that calls Poe from the CRA app:
  - Use the same window.Poe API inside lifecycle hooks or event handlers (guard against server-side execution — only call from browser). Example within a component's useEffect or onClick handler:

    if (typeof window !== 'undefined' && window.Poe) {
      await window.Poe.sendUserMessage(`@GPT-4o ${prompt}`, { handler: 'react-handler', stream: true, openChat: false });
    }

## Files to inspect when making changes

- `registration-form/package.json` — scripts & dependencies
- `registration-form/README.md` — CRA guidance (mostly generic)
- `registration-form/index.html` — canonical examples of client-side Poe usage, handlers, and UI patterns
- `htmlform/app.js` — standalone RegistrationForm implementation (useful for copying form logic into CRA `src/RegistrationForm.js`)

## What not to do

- Do not modify `registration-form/build/` output files directly — they are generated. Make source changes in `src/` or in `index.html` and rebuild.
- Avoid server-side assumptions: this repo contains no backend; all demos call browser-exposed APIs (`window.Poe`) and external CDNs.

## If you change behavior that affects users

- Update the `registration-form/README.md` with new developer commands or environment variables.
- If you add long-running or non-browser code, include a short README note describing how to run it.

---

If any part of this doc is unclear or you'd like more examples (for instance, a ready-to-paste React component that wraps `window.Poe` with hooks), tell me which example you'd like and I'll add it.
